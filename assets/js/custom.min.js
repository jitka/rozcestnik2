var makemap=function(e,r){var l=e[0].settings;$(l.id).width(l.size.width),$(l.id).height(l.size.height);var c=Raphael(l.id,l.size.width,l.size.height);$("#region-description>div").hide();var s=0,p=$("#regions-list"),d=$("#regions-list-2"),i=e[0].regions;$.each(i,function(e,a){if(s<7){var i=$("<li/>").appendTo(p);$("<a/>").text(a.name).attr("href",a[r]).appendTo(i)}else{var o=$("<li/>").appendTo(d);$("<a/>").text(a.name).attr("href",a[r]).appendTo(o)}s++;var t={title:a.name},n=$.extend(l.region_attrs,t);l.colors?a.color=Raphael.getColor():a.color="#666";a.id;$.each(a.paths,function(e,i){(i=c.path(i).scale(l.size.scale,l.size.scale,0,0).attr(n))[0].onclick=function(){$(location).attr("href",a[r])},i[0].ondblclick=function(){window.open(a[r])},i[0].onmouseover=function(){i.animate({fill:a.color},500).attr({cursor:"pointer"})},i[0].onmouseout=function(){i.animate({fill:"#333"},500)}})})};$(function(){if($("#clicable-map").length){var i="url";"/volby/2017/"==page_url&&(i="kandidatka"),$.get(api_regions).done(function(e){makemap(e,i)}).fail(function(e){console.log("Error: map")})}});